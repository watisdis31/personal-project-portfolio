@font-face {
  font-family: "BW2";
  src: url(../fonts/bw2.ttf);
}

body {
  font-family: "bw2", Arial, Helvetica, sans-serif;
  margin: 0;
  background-color: #0d0d0d;
  overflow-x: hidden;
  color: #ffffff;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

/* ================= GRID BACKGROUND ================= */

#grid-bg {
  position: fixed;
  inset: 0;
  width: 200%;
  height: 200%;
  background-image:
    linear-gradient(rgba(26, 26, 26, 0.5) 1px, transparent 1px),
    linear-gradient(90deg, rgba(26, 26, 26, 0.5) 1px, transparent 1px);
  background-size: 12px 12px;
  animation: moveGrid 6s linear infinite;
  z-index: -1;
}

@keyframes moveGrid {
  from {
    background-position:
      0 0,
      0 0;
  }
  to {
    background-position:
      24px 24px,
      24px 24px;
  }
}

/* ================= PANELS ================= */

#screens {
  position: relative;
  width: 100%;
  min-height: 520px;
  margin-top: 110px; /* raises card & projects */
  display: flex;
  justify-content: center;
}

.panel {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;

  display: block; /* üî• DO NOT FLEX CENTER HERE */

  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

.panel.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

#trainer-panel:not(.active) .trainer-flip-wrapper {
  visibility: hidden;
}

/* ================= NAVBAR ================= */

#ds-menu {
  margin-top: 15px;
  background: #0b0b0b;
  border: 3px solid #aa0000;
  padding: 6px;
  display: flex;
  gap: 4px;
}

.menu-btn {
  background: #1a1a1a;
  border: 2px solid #550000;
  color: #ccc;
  font-size: 18px;
  padding: 6px 10px;
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 120px;
}

.menu-btn.active {
  background: #ff0000;
  color: #0b0b0b;
  letter-spacing: 1px;
}

.menu-btn:not(.active) .pokeball {
  animation: dsGreenBlink 1.8s steps(2) infinite;
}

.menu-btn:not(.active):hover {
  background: #2a2a2a;
  letter-spacing: 1px;
}

.menu-btn.active .pokeball {
  animation: none;
  background: #3cb371; /* muted medium green */
  box-shadow:
    0 0 4px rgba(60, 179, 113, 0.25),
    inset 0 0 2px rgba(0, 0, 0, 0.5);
}

@keyframes dsGreenBlink {
  0% {
    background: #1e3a2a;
    box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.6);
    opacity: 0.6;
  }
  50% {
    background: #2e8b57; /* sea green (muted) */
    box-shadow: 0 0 3px rgba(46, 139, 87, 0.25);
    opacity: 0.9;
  }
  100% {
    background: #1e3a2a;
    box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.6);
    opacity: 0.6;
  }
}

.pokeball {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #1e3a2a; /* dark green base */
  border: 1px solid #0a1f14;
  box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.6);
}

/* ================= TRAINER CARD (UNCHANGED) ================= */

#trainer-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.trainer-card {
  width: 600px;
  background-color: #222;
  border: 2px solid #666;
  border-radius: 10px;
  padding: 20px;
  font-family: "Press Start 2P", cursive;
  color: #eee;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
}

.trainer-header {
  position: relative;
  margin-bottom: 8px;
}

.trainer-header h2 {
  font-size: 18px;
  margin: 0;
}

.trainer-id-header {
  position: absolute;
  right: 10px;
  top: 0;
  font-family: bw2;
  font-size: 20px;
}
.trainer-id-header::before {
  content: "ID No. ";
}

.trainer-main {
  display: flex;
  gap: 16px;
}

.profile-pic-square {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border: 3px solid #555;
}

.trainer-info {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.info-label {
  font-size: 10px;
  color: #aaa;
  margin: 0;
}

.info-value {
  font-family: bw2;
  font-size: 20px;
  margin: 0;
}

.arrow {
  color: #fff;
}

.social-icons img {
  width: 20px;
  filter: brightness(0) invert(1);
  cursor: pointer;
  animation: locationPulse 2.2s steps(2) infinite;
}

.trainer-footer {
  margin-top: 16px;
  background: #333;
  border: 1px solid #555;
  padding: 8px;
  font-family: bw2;
  font-size: 25px;
  border-radius: 6px;
  box-sizing: border-box;
  overflow: hidden; /* hard safety */
}

.trainer-contact {
  display: flex;
  align-items: center;
  gap: 6px;

  max-width: 100%;
  flex-wrap: wrap; /* allow wrap */
  justify-content: flex-start;

  font-family: bw2;
}

.contact-icon {
  width: 18px;
  height: 18px;

  image-rendering: pixelated;
  filter: brightness(0) invert(1); /* force white */
  animation: locationPulse 2.2s steps(2) infinite;
  flex-shrink: 0;
  display: block;
  align-self: center;
}

.contact-email {
  display: inline-flex;
  align-items: center;
  gap: 6px;

  font-size: 21px;
  line-height: 1;
  letter-spacing: 1px;
  white-space: nowrap;
}

.contact-email::before {
  content: "‚Äî";
  opacity: 0.8;
}

.location-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Force icon to white */
.location-icon {
  width: 25px;
  height: 25px;

  image-rendering: pixelated;

  filter: brightness(0) invert(1);

  opacity: 0.9;
  animation: locationPulse 2.2s steps(2) infinite;
}

@keyframes locationPulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.9;
  }
  100% {
    opacity: 0.6;
  }
}

/* ================= FLIP (SAFE WRAPPER) ================= */

.trainer-flip-wrapper {
  position: relative;
  perspective: 1200px;
  touch-action: pan-y;
}

.trainer-flip-wrapper .face {
  backface-visibility: hidden;
  transition: transform 0.55s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

.trainer-flip-wrapper .back {
  position: absolute;
  inset: 0;
  transform: rotateY(180deg);
}

.trainer-flip-wrapper.flipped .front {
  transform: rotateY(180deg);
}

.trainer-flip-wrapper.flipped .back {
  transform: rotateY(360deg);
}

.trainer-flip-wrapper::after {
  content: "";
  position: absolute;
  inset: -2px;
  pointer-events: none;

  background: linear-gradient(
    120deg,
    rgba(0, 0, 0, 0) 30%,
    rgba(0, 0, 0, 0.18) 45%,
    rgba(0, 0, 0, 0) 60%
  );

  opacity: 0;
  transform: translateX(-40%) rotate(0.001deg);
  transition:
    transform 0.55s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.15s linear;
  will-change: transform, opacity;
  z-index: 5;
}

.trainer-flip-wrapper.flipped::after {
  opacity: 8;
  transform: translateX(40%) rotate(0.001deg);
}

/* ============================
   BW2 FLIP ARROW IDLE ANIMATION
============================ */

.trainer-flip-control {
  margin-top: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: bw2;
  font-size: 18px;
  color: #ffffff;
  opacity: 0.9;
  cursor: pointer;
}

/* Arrows */
.flip-arrow {
  display: inline-block;
  animation: bw2ArrowPulse 1.4s steps(2) infinite;
}

/* Delay right arrow slightly (classic BW feel) */
.flip-arrow:last-child {
  animation-delay: 0.2s;
}

/* Text */
.flip-text {
  font-size: 16px;
  opacity: 0.85;
  cursor: default;
}

.trainer-flip-control:hover {
  opacity: 1;
}

.trainer-flip-control:hover .flip-arrow {
  animation-duration: 0.8s;
}

/* Animation */
@keyframes bw2ArrowPulse {
  0% {
    transform: translateX(0);
    opacity: 0.4;
  }
  50% {
    transform: translateX(2px);
    opacity: 1;
  }
  100% {
    transform: translateX(0);
    opacity: 0.4;
  }
}

/* ================= PROJECT PANELS ================= */

.pokedex-panel {
  position: relative; /* ‚úÖ IMPORTANT */
  width: 600px;
  border: 4px solid #ff0000;
  padding: 16px;
  box-sizing: border-box;
}

.pokedex-panel h2 {
  font-family: "Press Start 2P", cursive;
  font-size: 30px;
}

/* ================= CV BUTTON ================= */

.cv-btn {
  display: inline-block;
  margin-top: 7px;

  padding: 6px 12px;
  background: #0b0b0b;
  color: #ffffff;

  border: 2px solid #aa0000;
  border-radius: 6px;

  font-family: bw2;
  font-size: 18px;
  text-decoration: none;

  position: relative;
  cursor: pointer;

  transition:
    background 0.2s steps(2),
    border-color 0.2s steps(2),
    box-shadow 0.2s steps(2),
    transform 0.15s steps(2);

  animation: cvIdlePulse 2.8s steps(2) infinite;
}

@keyframes cvIdlePulse {
  0% {
    box-shadow: none;
    opacity: 0.9;
  }
  50% {
    box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.25);
    opacity: 1;
  }
  100% {
    box-shadow: none;
    opacity: 0.9;
  }
}

.cv-btn:hover {
  background: #120000;
  border-color: #ff0000;
  letter-spacing: 1px;

  box-shadow:
    0 0 0 2px rgba(255, 0, 0, 0.35),
    0 0 12px rgba(255, 0, 0, 0.25);

  transform: translateY(-1px);
}

/* ============================
   PROJECTS PANEL (BW2 STYLE)
============================ */

.projects-scroll-wrapper {
  position: relative;
  width: 100%;
}

/* Scrollable list */
.projects-container {
  position: relative;
  max-height: 360px;
  overflow-y: auto;
  padding-right: 0; /* üî• DO NOT SHRINK CONTENT */
  box-sizing: border-box;
  overscroll-behavior: contain; /* stops scroll chaining */
  touch-action: pan-y; /* allow vertical only */
  overflow-x: hidden;
}

/* Hide browser scrollbar */
.projects-container::-webkit-scrollbar {
  display: none;
}
.projects-container {
  scrollbar-width: none;
}

/* ============================
   BW2 SCROLL TRACK (FIXED)
============================ */

.pokedex-scroll-track {
  position: absolute;
  top: 44px;
  right: 6px; /* inside panel border */

  width: 12px;
  height: calc(100% - 52px);

  background: #0b0b0b;
  border: 2px solid #550000;
  box-sizing: border-box;

  pointer-events: none; /* BW2 behavior */
}

/* Scroll thumb */
.pokedex-scroll-thumb {
  position: absolute;
  top: 0;
  left: 0;

  width: 100%;
  height: 56px;

  background: red;
  border: 2px solid #330000;
  box-sizing: border-box;
}

/* ============================
   PROJECT ENTRY (POK√âDEX)
============================ */

.project-entry-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.project-entry {
  position: relative;
  display: flex;
  gap: 12px;
  border: 2px solid #550000;
  padding: 10px;
  margin-bottom: 6px;
  background: #0e0e0e;
  box-sizing: border-box;
}

/* Outer highlight frame */
.project-entry::before {
  content: "";
  position: absolute;
  inset: -3px;

  border: 2px solid #ff0000;
  opacity: 0;
  pointer-events: none;

  transition: opacity 0.12s steps(2);
}

/* Inner BW2 glow */
.project-entry::after {
  content: "";
  position: absolute;
  inset: 0;

  background: linear-gradient(
    120deg,
    rgba(255, 0, 0, 0) 35%,
    rgba(255, 0, 0, 0.18) 45%,
    rgba(255, 0, 0, 0) 55%
  );

  opacity: 0;
  transform: translateX(-40%);
  pointer-events: none;

  transition:
    transform 0.35s steps(4),
    opacity 0.12s steps(2);
}

/* Hover / Focus state */
.project-entry-link:hover .project-entry,
.project-entry-link:focus-visible .project-entry {
  border-color: #ff0000;
}

.project-entry-link:hover .project-entry::before,
.project-entry-link:focus-visible .project-entry::before {
  opacity: 1;
}

.project-entry-link:hover .project-entry::after,
.project-entry-link:focus-visible .project-entry::after {
  opacity: 1;
  transform: translateX(40%);
}

.project-entry-link:hover .project-entry::before {
  animation: bw2SelectPulse 1.4s steps(2) infinite;
}

@keyframes bw2SelectPulse {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.6;
  }
}

/* ============================
   PROJECT SPRITE
============================ */

.project-sprite {
  width: 80px;
  height: 80px;

  background: #111;
  border: 2px solid #ff0000;
  border-radius: 4px;

  display: flex;
  justify-content: center;
  align-items: center;
}

.project-sprite img {
  width: 64px;
  image-rendering: pixelated;
}

/* ============================
   PROJECT DETAILS
============================ */

.project-details {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.project-name {
  font-family: "Press Start 2P", cursive;
  font-size: 12px;
  color: #f95353;
  margin-bottom: 4px;
}

.project-type {
  font-family: bw2, Arial, sans-serif;
  font-size: 18px;
  color: #aaa;
  margin-bottom: 4px;
}

.project-description {
  font-family: bw2, Arial, sans-serif;
  font-size: 18px;
  color: #ddd;
  line-height: 1.1;
}

#trainer-panel,
#projects-panel {
  display: flex;
  justify-content: center;
}

.pokedex-panel,
.trainer-card {
  margin: 0 auto;
}

/* ===============================
   üì± MOBILE & TABLET SUPPORT
   =============================== */

/* Tablets & phones */
@media (max-width: 768px) {
  /* General layout */
  #screens {
    margin-top: 90px;
    min-height: unset;
  }

  /* Navbar */
  #ds-menu {
    flex-wrap: wrap;
    justify-content: center;
  }

  .menu-btn {
    font-size: 14px;
    min-width: unset;
    padding: 6px 8px;
  }

  /* Trainer & Projects panels */
  .trainer-card,
  .pokedex-panel {
    width: calc(100% - 24px);
    max-width: 520px;
  }

  /* Trainer card layout */
  .trainer-main {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .profile-pic-square {
    width: 110px;
    height: 110px;
  }

  .trainer-info {
    align-items: center;
  }

  .info-value {
    font-size: 16px;
  }

  .trainer-footer {
    font-size: 18px;
    text-align: center;
  }

  /* Flip control */
  .trainer-flip-control {
    font-size: 16px;
  }

  /* Projects scroll area */
  .projects-container {
    max-height: 300px;
  }

  .pokedex-scroll-track {
    right: 4px;
    width: 10px;
  }

  /* Project entry */
  .project-entry {
    gap: 10px;
  }

  .project-sprite {
    width: 64px;
    height: 64px;
  }

  .project-sprite img {
    width: 48px;
  }

  .project-name {
    font-size: 11px;
  }

  .project-type,
  .project-description {
    font-size: 16px;
  }
}

/* Covers iPhone Pro / Pro Max / Plus */
@media (max-width: 480px) {
  .trainer-header {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .trainer-header h2 {
    font-size: 14px;
    line-height: 1.2;
  }

  .trainer-id-header {
    position: static !important; /* üî• force-disable absolute */
    font-size: 14px;
    opacity: 0.9;
    white-space: nowrap;
  }
}

/* Small phones */
@media (max-width: 420px) {
  html,
  body {
    height: 100%;
    overflow: hidden; /* üîí stop page scroll */
    overscroll-behavior: none;
  }

  body {
    position: fixed;
    width: 100%;
  }

  #screens {
    min-height: unset; /* remove scroll source */
    height: calc(100vh - 120px); /* menu + spacing */
  }

  .panel {
    height: 75%;
  }

  .trainer-card,
  .pokedex-panel {
    max-width: 100%;
    padding: 14px;
  }

  .trainer-header {
    padding-bottom: 10px;
  }

  .trainer-header h2 {
    font-size: 14px;
  }

  .trainer-id-header {
    position: static; /* stop absolute overlap */
    display: block;
    margin-top: 6px;
    font-size: 14px;
    text-align: left;
    opacity: 0.9;
  }

  .trainer-id-header::before {
    content: "ID No. ";
  }

  .info-label {
    font-size: 9px;
  }

  .info-value {
    font-size: 15px;
  }

  .trainer-footer {
    font-size: 16px;
  }

  .cv-btn {
    font-size: 16px;
    padding: 6px 10px;
  }

  .trainer-contact {
    font-size: 16px;
    flex-wrap: wrap;
    justify-content: center;
    text-align: center;
  }

  .contact-email {
    font-size: 16px;
    line-height: 1;
    white-space: nowrap;
  }

  .projects-container {
    max-height: 300px;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch; /* iOS smooth scroll */
  }
}

/* ===============================
   üì±üì± TABLET & DUO SAFE HEADER
   =============================== */

@media (max-width: 820px) {
  .trainer-header {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  .trainer-header h2 {
    font-size: 15px;
    line-height: 1.2;
  }

  .trainer-id-header {
    position: static !important;
    font-size: 15px;
    white-space: nowrap;
    opacity: 0.9;
  }

  .trainer-contact {
    justify-content: center;
    text-align: center;
    gap: 6px;
  }

  .contact-icon {
    margin-top: 1px; /* optical alignment for pixel icons */
  }

  .contact-email {
    font-size: 16px;
    padding-left: 2px;
  }
}

/* ===============================
   üçé iOS SAFE-AREA (NOTCH FIX)
   =============================== */

body {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

#ds-menu {
  margin-top: calc(15px + env(safe-area-inset-top));
}

/* ===============================
   üì± iPad LANDSCAPE TUNING
   =============================== */

@media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
  #screens {
    margin-top: 70px; /* pull content up */
    min-height: 460px;
  }

  .trainer-card {
    transform: scale(0.95); /* subtle fit */
  }

  .pokedex-panel {
    transform: scale(0.95);
  }
}

@media (max-width: 1024px) {
  .contact-icon {
    width: 16px;
    height: 16px;
  }

  .contact-email {
    font-size: 16px;
  }
}

@supports (-webkit-touch-callout: none) {
  .projects-container {
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }
}

@supports (-webkit-touch-callout: none) {
  .projects-container {
    overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
    position: relative;
  }

  /* Prevent body scroll leakage on iPad */
  body {
    overscroll-behavior-y: none;
  }
}

@media (max-width: 420px) {
  .projects-container {
    overscroll-behavior-y: none;
  }
}

@media (min-width: 768px) and (max-width: 1024px) {
  .projects-container {
    max-height: 320px; /* tighter clamp */
  }

  .pokedex-scroll-track {
    height: calc(100% - 48px);
  }
}

@media (hover: none) and (pointer: coarse) {
  .projects-container {
    overscroll-behavior-y: none;
  }
}
